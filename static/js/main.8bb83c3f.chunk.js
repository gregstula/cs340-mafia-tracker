(this["webpackJsonpcs340-mafia-tracker"]=this["webpackJsonpcs340-mafia-tracker"]||[]).push([[0],{104:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),i=n(23),r=n.n(i),j=(n(80),n(81),n(119)),l=n(118),d=n(12),o=n(26),h=n(21),b=n(27),u=n(28),O=n(32),x=n(30),f=n(117),m=n(71),p=n(72),v=n(113),y=n(74),g=n(116),C=n(114),w=n(115),I=n(7),k=n.n(I);var D=function(e){return"https://cs340-mafia-server.herokuapp.com/"+e},N=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var c;return Object(b.a)(this,n),(c=t.call(this,e)).handleSubmit=function(e){c.state.familyID?e(c.state.familyID,c.state):e(c.state)},c.handleOnChange=function(e){var t=e.target,n=t.value,s=t.name;c.setState(Object(h.a)({},s,n))},c.state=Object(o.a)({},c.props.data),c}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(f.a,{children:Object(c.jsxs)(f.a.Row,{children:[Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Name",name:"familyName",value:this.state.familyName,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(p.a,{type:"submit",onClick:function(){return e.handleSubmit(e.props.onClick)},children:this.props.type})})]})})})}}]),n}(a.a.Component),B=[],S=[];var z=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),r=Object(d.a)(i,2),j=r[0],l=r[1],o=D("families");Object(s.useEffect)((function(){k.a.get(o).then((function(e){return a(e.data)}))}),[j]);var h=function(e,t){var n=o+"/update/".concat(e);k.a.put(n,t).then((function(e){return l([])}))};function b(e){return Object(c.jsxs)(v.a,{id:"dropdown-item-button",title:"Actions",children:[Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return function(e){var t=S.findIndex((function(t){return t.familyID===e}));t<0?(S.push({familyID:e,members:[],potentialMembers:[]}),t=S.length-1,k.a.get(o+"/getMembers/".concat(e)).then((function(e){S[t].members=e.data,l([])}))):(S.splice(t,1),l([]))}(e.family.familyID)},children:"Show/Hide Family members"}),Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return function(e){var t=B.findIndex((function(t){return t.familyID===e}));t<0?(B.push({familyID:e,businesses:[],potentialBusinesses:[]}),t=B.length-1,k.a.get(o+"/getBusinesses/".concat(e)).then((function(e){B[t].businesses=e.data,l([])}))):(B.splice(t,1),l([]))}(e.family.familyID)},children:"Show/Hide businesses owned"}),Object(c.jsx)(y.a.Item,{as:u,family:e.family}),Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return function(e){var t=o+"/delete/".concat(e);k.a.delete(t).then((function(e){l([])}))}(e.family.familyID)},children:"Delete"})]})}function u(e){var t=Object(s.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],r=function(){return i(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return i(!0)},children:"Update"}),Object(c.jsxs)(g.a,{size:"xl",show:a,onHide:r,backdrop:"static",keyboard:!0,children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsxs)(g.a.Title,{children:["Update ",e.family.familyName," ID: ",e.family.familyID]})}),Object(c.jsx)(g.a.Body,{children:Object(c.jsx)(N,{type:"Update",onClick:h,data:e.family})}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsx)(p.a,{variant:"secondary",onClick:r,children:"Close"})})]})]})}function O(e){var t=S.findIndex((function(t){return t.familyID===e.family.familyID}));if(t<0)return null;var n=S[t].members;return Object(c.jsx)("tr",{children:Object(c.jsxs)("td",{colSpan:"7",children:[Object(c.jsx)("b",{children:"Members"}),Object(c.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Age"}),Object(c.jsx)("th",{children:"Role"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.firstName+" "+e.lastName}),Object(c.jsx)("td",{children:e.age}),Object(c.jsx)("td",{children:e.mafiaRole}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){return function(e){var t=o+"/removeMember/".concat(e);k.a.put(t).then((function(t){S.map((function(t){var n=t.members.findIndex((function(t){return t.individualID===e}));return n>=0&&t.members.splice(n,1),n})),l([])}))}(e.individualID)},children:"Delete"})})]})}))})]}),Object(c.jsx)(f.a,{children:Object(c.jsx)(f.a.Control,{size:"m",type:"text",onChange:function(e){e.target.value?function(e,t){k.a.get(o+"/searchPeople/".concat(e)).then((function(e){S[t].potentialMembers=e.data}))}(e.target.value,t):S[t].potentialMembers=[]},placeholder:"Search for existing people to add to the family"})}),Object(c.jsx)(p.a,{size:"sm",type:"search",onClick:function(){l([])},children:"Search"}),Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){S[t].potentialMembers=[],l([])},children:"Clear Results"}),Object(c.jsx)(x,{index:t})]})})}function x(e){var t=e.index;return 0===S[t].potentialMembers.length?null:Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Age"}),Object(c.jsx)("th",{children:"Current Family"}),Object(c.jsx)("th",{children:"Current Role"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:S[t].potentialMembers.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.firstName+" "+e.lastName}),Object(c.jsx)("td",{children:e.age}),Object(c.jsx)("td",{children:e.familyName}),Object(c.jsx)("td",{children:e.mafiaRole}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",type:"submit",onClick:function(){return function(e,t){var n=o+"/addMember/".concat(e,"/").concat(t);S.map((function(t){var n=t.members.findIndex((function(t){return t.individualID===e}));return n>=0&&(t.members.splice(n,1),!0)})),k.a.put(n).then((function(e){k.a.get(o+"/getMembers/".concat(t)).then((function(e){var n=S.findIndex((function(e){return e.familyID===t}));S[n].members=e.data,l([])}))}))}(e.individualID,S[t].familyID)},children:"Add"})})]})}))})]})}function m(e){var t=B.findIndex((function(t){return t.familyID===e.family.familyID}));if(t<0)return null;var n=B[t].businesses;return Object(c.jsx)("tr",{children:Object(c.jsxs)("td",{colSpan:"7",children:[Object(c.jsx)("b",{children:"Businesses Owned"}),Object(c.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Number"}),Object(c.jsx)("th",{children:"street Name"}),Object(c.jsx)("th",{children:"City"}),Object(c.jsx)("th",{children:"State"}),Object(c.jsx)("th",{children:"Zip"}),Object(c.jsx)("th",{children:"Individual Owner"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e){var t=e.firstName,n=e.lastName;return t?n=" "+n:t="",n||(n=""),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.businessName}),Object(c.jsx)("td",{children:e.buildingNumber}),Object(c.jsx)("td",{children:e.streetName}),Object(c.jsx)("td",{children:e.city}),Object(c.jsx)("td",{children:e.state}),Object(c.jsx)("td",{children:e.zip}),Object(c.jsx)("td",{children:t+n}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){return function(e){var t=o+"/removeBusiness/".concat(e);k.a.put(t).then((function(t){B.map((function(t){var n=t.businesses.findIndex((function(t){return t.businessID===e}));return n>=0&&t.businesses.splice(n,1),n})),l([])}))}(e.businessID)},children:"Delete"})})]})}))})]}),Object(c.jsx)(f.a,{children:Object(c.jsx)(f.a.Control,{size:"m",type:"text",onChange:function(e){e.target.value?function(e,t){k.a.get(o+"/searchBusinesses/".concat(e)).then((function(e){B[t].potentialBusinesses=e.data}))}(e.target.value,t):B[t].potentialBusinesses=[]},placeholder:"Search for existing businesses to be owned by the family"})}),Object(c.jsx)(p.a,{size:"sm",type:"search",onClick:function(){l([])},children:"Search"}),Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){B[t].potentialBusinesses=[],l([])},children:"Clear Results"}),Object(c.jsx)(I,{index:t})]})})}function I(e){var t=e.index;return 0===B[t].potentialBusinesses.length?null:Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Business Name"}),Object(c.jsx)("th",{children:"City"}),Object(c.jsx)("th",{children:"State"}),Object(c.jsx)("th",{children:"Current Individual Owner"}),Object(c.jsx)("th",{children:"Current Family Owner"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:B[t].potentialBusinesses.map((function(e){var n=e.firstName,s=e.lastName;return n?s=" "+s:n="",s||(s=""),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.businessName}),Object(c.jsx)("td",{children:e.city}),Object(c.jsx)("td",{children:e.state}),Object(c.jsx)("td",{children:n+s}),Object(c.jsx)("td",{children:e.familyName}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",type:"submit",onClick:function(){return function(e,t){var n=o+"/addBusiness/".concat(e,"/").concat(t);B.map((function(t){var n=t.businesses.findIndex((function(t){return t.businessID===e}));return n>=0&&(t.businesses.splice(n,1),!0)})),k.a.put(n).then((function(e){k.a.get(o+"/getBusinesses/".concat(t)).then((function(e){var n=B.findIndex((function(e){return e.familyID===t}));B[n].businesses=e.data,l([])}))}))}(e.businessID,B[t].familyID)},children:"Add"})})]})}))})]})}function z(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.family.familyID}),Object(c.jsx)("td",{children:e.family.familyName}),Object(c.jsx)("td",{children:e.family.memberCount}),Object(c.jsx)("td",{children:Object(c.jsx)(b,{family:e.family})})]})}return Object(c.jsxs)(w.a,{fluid:!0,children:[Object(c.jsx)("h1",{children:"Families"}),Object(c.jsx)(N,{type:"Create",onClick:function(e){var t=o+"/create";k.a.post(t,e).then((function(){l([])}))}}),Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Member Count"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e,t){return Object(c.jsxs)(s.Fragment,{children:[Object(c.jsx)(z,{family:e}),Object(c.jsx)(O,{family:e}),Object(c.jsx)(m,{family:e})]},e.familyID)}))})]})]})},L=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var c;return Object(b.a)(this,n),(c=t.call(this,e)).handleSubmit=function(e){c.state.individualID?e(c.state.individualID,c.state):e(c.state)},c.handleOnChange=function(e){var t=e.target,n=t.value,s=t.name;c.setState(Object(h.a)({},s,n))},c.state=Object(o.a)({},c.props.data),c}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(f.a,{children:[Object(c.jsxs)(f.a.Row,{children:[Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"First name",name:"firstName",value:this.state.firstName,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Last name",name:"lastName",value:this.state.lastName,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Age",name:"age",value:this.state.age,onChange:this.handleOnChange})})]}),Object(c.jsxs)(f.a.Row,{children:[Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Mafia family (exact)",name:"mafiaFamily",value:this.state.mafiaFamily,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Role in family",name:"mafiaRole",value:this.state.mafiaRole,onChange:this.handleOnChange})})]}),Object(c.jsx)(f.a.Row,{children:Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(p.a,{type:"submit",onClick:function(){return e.handleSubmit(e.props.onClick)},children:this.props.type})})})]})})}}]),n}(a.a.Component),F=[],A=[],R="";var M=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),r=Object(d.a)(i,2),j=r[0],l=r[1],o=D("individuals");function h(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.person.individualID}),Object(c.jsx)("td",{children:e.person.firstName}),Object(c.jsx)("td",{children:e.person.lastName}),Object(c.jsx)("td",{children:e.person.age}),Object(c.jsx)("td",{children:e.person.familyName}),Object(c.jsx)("td",{children:e.person.mafiaRole}),Object(c.jsx)("td",{children:Object(c.jsx)(I,{person:e.person})})]})}function b(e){var t=F.findIndex((function(t){return t.personID===e.person.individualID}));if(t<0)return null;var n=F[t].businessesOwned;return Object(c.jsx)("tr",{children:Object(c.jsxs)("td",{colSpan:"7",children:[Object(c.jsx)("b",{children:"Businesses owned"}),Object(c.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Number"}),Object(c.jsx)("th",{children:"street Name"}),Object(c.jsx)("th",{children:"City"}),Object(c.jsx)("th",{children:"State"}),Object(c.jsx)("th",{children:"Zip"}),Object(c.jsx)("th",{children:"Family Owner"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.businessName}),Object(c.jsx)("td",{children:e.buildingNumber}),Object(c.jsx)("td",{children:e.streetName}),Object(c.jsx)("td",{children:e.city}),Object(c.jsx)("td",{children:e.state}),Object(c.jsx)("td",{children:e.zip}),Object(c.jsx)("td",{children:e.familyName}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){return function(e){var t=o+"/setBusinessOwnerToNull/".concat(e);k.a.put(t).then((function(t){F.map((function(t){var n=t.businessesOwned.findIndex((function(t){return t.businessID===e}));return n>=0&&t.businessesOwned.splice(n,1),n})),l([])}))}(e.businessID)},children:"Delete"})})]})}))})]}),Object(c.jsx)(f.a,{children:Object(c.jsx)(f.a.Control,{size:"m",type:"text",onChange:function(e){e.target.value?function(e,t){k.a.get(o+"/searchBusinesses/".concat(e)).then((function(e){F[t].addableBusinesses=e.data}))}(e.target.value,t):F[t].addableBusinesses=[]},placeholder:"Search for existing business to add to businesses owned by this person"})}),Object(c.jsx)(p.a,{size:"sm",type:"search",onClick:function(){l([])},children:"Search"}),Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){F[t].addableBusinesses=[],l([])},children:"Clear Results"}),Object(c.jsx)(u,{index:t})]})})}function u(e){var t=e.index;return 0===F[t].addableBusinesses.length?null:Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Business Name"}),Object(c.jsx)("th",{children:"City"}),Object(c.jsx)("th",{children:"State"}),Object(c.jsx)("th",{children:"Current Individual Owner"}),Object(c.jsx)("th",{children:"Current Family Owner"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:F[t].addableBusinesses.map((function(e){var n=e.firstName,s=e.lastName;return n?s=" "+s:n="",s||(s=""),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.businessName}),Object(c.jsx)("td",{children:e.city}),Object(c.jsx)("td",{children:e.state}),Object(c.jsx)("td",{children:n+s}),Object(c.jsx)("td",{children:e.familyName}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",type:"submit",onClick:function(){return function(e,t){var n=o+"/setBusinessOwner/".concat(e,"/").concat(t);F.map((function(t){var n=t.businessesOwned.findIndex((function(t){return t.businessID===e}));return n>=0&&(t.businessesOwned.splice(n,1),!0)})),k.a.put(n).then((function(e){k.a.get(o+"/getBusinesses/".concat(t)).then((function(e){var n=F.findIndex((function(e){return e.personID===t}));F[n].businessesOwned=e.data,l([])}))}))}(e.businessID,F[t].personID)},children:"Add"})})]})}))})]})}function O(e){var t=A.findIndex((function(t){return t.personID===e.person.individualID}));if(t<0)return null;var n=A[t].lawsBroken;return Object(c.jsx)("tr",{children:Object(c.jsxs)("td",{colSpan:"7",children:[Object(c.jsx)("b",{children:"Laws broken"}),Object(c.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Law Name"}),Object(c.jsx)("th",{children:"Sentence"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.lawName}),Object(c.jsx)("td",{children:t.sentence}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){return function(e,t){var n=o+"/unBreakLaw/".concat(e,"/").concat(t);k.a.delete(n).then((function(t){A.map((function(t){var n=t.lawsBroken.findIndex((function(t){return t.lawID===e}));return n>=0&&t.lawsBroken.splice(n,1),n})),l([])}))}(t.lawID,e.person.individualID)},children:"Delete"})})]})}))})]}),Object(c.jsx)(f.a,{children:Object(c.jsx)(f.a.Control,{size:"m",type:"text",onChange:function(e){e.target.value?function(e,t){k.a.get(o+"/searchLaws/".concat(e)).then((function(e){A[t].breakableLaws=e.data}))}(e.target.value,t):A[t].breakableLaws=[]},placeholder:"Search for existing laws to add to list of laws broken by this person"})}),Object(c.jsx)(p.a,{size:"sm",type:"search",onClick:function(){l([])},children:"Search"}),Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){A[t].breakableLaws=[],l([])},children:"Clear Results"}),Object(c.jsx)(x,{index:t})]})})}function x(e){var t=e.index;return 0===A[t].breakableLaws.length?null:Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Law Name"}),Object(c.jsx)("th",{children:"Sentence"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:A[t].breakableLaws.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.lawName}),Object(c.jsx)("td",{children:e.sentence}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",type:"submit",onClick:function(){return function(e,t){var n=o+"/breakLaw/".concat(e,"/").concat(t);k.a.put(n).then((function(e){k.a.get(o+"/getLawsBroken/".concat(t)).then((function(e){var n=A.findIndex((function(e){return e.personID===t}));A[n].lawsBroken=e.data,l([])}))}))}(e.lawID,A[t].personID)},children:"Add"})})]})}))})]})}function I(e){return Object(c.jsxs)(v.a,{id:"dropdown-item-button",title:"Actions",children:[Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return function(e){var t=F.findIndex((function(t){return t.personID===e}));t<0?(F.push({personID:e,businessesOwned:[],addableBusinesses:[]}),t=F.length-1,k.a.get(o+"/getBusinesses/".concat(e)).then((function(e){F[t].businessesOwned=e.data,l([])}))):(F.splice(t,1),l([]))}(e.person.individualID)},children:"Show/Hide businesses owned"}),Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return function(e){var t=A.findIndex((function(t){return t.personID===e}));t<0?(A.push({personID:e,lawsBroken:[],breakableLaws:[]}),t=A.length-1,k.a.get(o+"/getLawsBroken/".concat(e)).then((function(e){A[t].lawsBroken=e.data,l([])}))):(A.splice(t,1),l([]))}(e.person.individualID)},children:"Show/Hide laws broken"}),Object(c.jsx)(y.a.Item,{as:N,person:e.person}),Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return S(e.person.individualID)},children:"Delete"})]})}function N(e){var t=Object(s.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],r=function(){return i(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return i(!0)},children:"Update"}),Object(c.jsxs)(g.a,{size:"xl",show:a,onHide:r,backdrop:"static",keyboard:!0,children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsxs)(g.a.Title,{children:["Update ",e.person.firstName+" "+e.person.lastName," ID: ",e.person.individualID]})}),Object(c.jsx)(g.a.Body,{children:Object(c.jsx)(L,{type:"Update",onClick:B,data:e.person})}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsx)(p.a,{variant:"secondary",onClick:r,children:"Close"})})]})]})}Object(s.useEffect)((function(){var e=D("individuals");""!==R&&(e+="/".concat(R)),k.a.get(e).then((function(e){return a(e.data)}))}),[j]);var B=function(e,t){var n=o+"/update/".concat(e);k.a.put(n,t).then((function(e){return l([])}))},S=function(e){var t=o+"/delete/".concat(e);k.a.delete(t).then((function(e){l([])}))};return Object(c.jsxs)(w.a,{fluid:!0,children:[Object(c.jsx)("h1",{children:"Individuals"}),Object(c.jsx)(f.a,{children:Object(c.jsxs)(f.a.Row,{children:[Object(c.jsx)(m.a,{children:Object(c.jsx)(f.a.Control,{size:"m",type:"text",placeholder:"Search by first or last name (not both)",onChange:function(e){R=e.target.value}})}),Object(c.jsx)(m.a,{children:Object(c.jsx)(p.a,{type:"search",onClick:function(){l([])},children:"Search"})})]})}),Object(c.jsx)("p",{}),Object(c.jsx)(L,{type:"Create",onClick:function(e){var t=o+"/create";k.a.post(t,e).then((function(){l([])}))},data:{firstName:"",lastName:"",age:"",mafiaFamily:"",mafiaRole:""}}),Object(c.jsx)("p",{}),Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"First Name"}),Object(c.jsx)("th",{children:"Last Name"}),Object(c.jsx)("th",{children:"Age"}),Object(c.jsx)("th",{children:"Mafia Family"}),Object(c.jsx)("th",{children:"Mafia Role"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e,t){return Object(c.jsxs)(s.Fragment,{children:[Object(c.jsx)(h,{person:e}),Object(c.jsx)(b,{person:e}),Object(c.jsx)(O,{person:e})]},e.individualID)}))})]})]})},G=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var c;return Object(b.a)(this,n),(c=t.call(this,e)).handleSubmit=function(e){c.state.lawID?e(c.state.lawID,c.state):e(c.state)},c.handleOnChange=function(e){var t=e.target,n=t.value,s=t.name;c.setState(Object(h.a)({},s,n))},c.state=Object(o.a)({},c.props.data),c}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(f.a,{children:Object(c.jsxs)(f.a.Row,{children:[Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Name",name:"lawName",value:this.state.lawName,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Sentence",name:"sentence",value:this.state.sentence,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(p.a,{type:"submit",onClick:function(){return e.handleSubmit(e.props.onClick)},children:this.props.type})})]})})})}}]),n}(a.a.Component),H=[];var U=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),r=Object(d.a)(i,2),j=r[0],l=r[1],o=D("Laws");Object(s.useEffect)((function(){k.a.get(o).then((function(e){return a(e.data)}))}),[j]);var h=function(e,t){var n=o+"/update/".concat(e);k.a.put(n,t).then((function(e){return l([])}))};function b(e){return Object(c.jsxs)(v.a,{id:"dropdown-item-button",title:"Actions",children:[Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return function(e){var t=H.findIndex((function(t){return t.lawID===e}));t<0?(H.push({lawID:e,lawBreakers:[],potentialLawBreakers:[]}),t=H.length-1,k.a.get(o+"/getLawBreakers/".concat(e)).then((function(e){H[t].lawBreakers=e.data,l([])}))):(H.splice(t,1),l([]))}(e.law.lawID)},children:"Show/Hide Law Breakers"}),Object(c.jsx)(y.a.Item,{as:u,law:e.law}),Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return function(e){var t=o+"/delete/".concat(e);k.a.delete(t).then((function(e){l([])}))}(e.law.lawID)},children:"Delete"})]})}function u(e){var t=Object(s.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],r=function(){return i(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return i(!0)},children:"Update"}),Object(c.jsxs)(g.a,{size:"xl",show:a,onHide:r,backdrop:"static",keyboard:!0,children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsxs)(g.a.Title,{children:["Update ",e.law.lawName," ID: ",e.law.lawID]})}),Object(c.jsx)(g.a.Body,{children:Object(c.jsx)(G,{type:"Update",onClick:h,data:e.law})}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsx)(p.a,{variant:"secondary",onClick:r,children:"Close"})})]})]})}function O(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.law.lawID}),Object(c.jsx)("td",{children:e.law.lawName}),Object(c.jsx)("td",{children:e.law.sentence}),Object(c.jsx)("td",{children:Object(c.jsx)(b,{law:e.law})})]})}function x(e){var t=H.findIndex((function(t){return t.lawID===e.law.lawID}));if(t<0)return null;var n=H[t].lawBreakers;return Object(c.jsx)("tr",{children:Object(c.jsxs)("td",{colSpan:"7",children:[Object(c.jsx)("b",{children:"Law Breakers"}),Object(c.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Mafia Family"}),Object(c.jsx)("th",{children:"Mafia Role"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.firstName+" "+t.lastName}),Object(c.jsx)("td",{children:t.familyName}),Object(c.jsx)("td",{children:t.mafiaRole}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){return function(e,t){var n=o+"/removeLawBreaker/".concat(e,"/").concat(t);k.a.delete(n).then((function(t){H.map((function(t){var n=t.lawBreakers.findIndex((function(t){return t.individualID===e}));return n>=0?t.lawBreakers.splice(n,1):console.log("not found"),n})),console.log(H),l([])}))}(t.individualID,e.law.lawID)},children:"Delete"})})]})}))})]}),Object(c.jsx)(f.a,{children:Object(c.jsx)(f.a.Control,{size:"m",type:"text",onChange:function(e){e.target.value?function(e,t){k.a.get(o+"/searchPeople/".concat(e)).then((function(e){H[t].potentialLawBreakers=e.data}))}(e.target.value,t):H[t].potentialLawBreakers=[]},placeholder:"Search for existing people to add to list of people who broke this law"})}),Object(c.jsx)(p.a,{size:"sm",type:"search",onClick:function(){l([])},children:"Search"}),Object(c.jsx)(p.a,{size:"sm",variant:"danger",type:"delete",onClick:function(){H[t].potentialLawBreakers=[],l([])},children:"Clear Results"}),Object(c.jsx)(m,{index:t})]})})}function m(e){var t=e.index;return 0===H[t].potentialLawBreakers.length?null:Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Mafia Family"}),Object(c.jsx)("th",{children:"Mafia Role"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:H[t].potentialLawBreakers.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.firstName+" "+e.lastName}),Object(c.jsx)("td",{children:e.familyName}),Object(c.jsx)("td",{children:e.mafiaRole}),Object(c.jsx)("td",{children:Object(c.jsx)(p.a,{size:"sm",type:"submit",onClick:function(){return function(e,t){var n=o+"/addLawBreaker/".concat(e,"/").concat(t);k.a.put(n).then((function(e){k.a.get(o+"/getLawBreakers/".concat(t)).then((function(e){var n=H.findIndex((function(e){return e.lawID===t}));H[n].lawBreakers=e.data,l([])}))}))}(e.individualID,H[t].lawID)},children:"Add"})})]})}))})]})}return Object(c.jsxs)(w.a,{fluid:!0,children:[Object(c.jsx)("h1",{children:"Laws"}),Object(c.jsx)(G,{type:"Create",onClick:function(e){var t=o+"/create";k.a.post(t,e).then((function(){l([])}))}}),Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Sentence"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e,t){return Object(c.jsxs)(s.Fragment,{children:[Object(c.jsx)(O,{law:e}),Object(c.jsx)(x,{law:e})]},e.lawID)}))})]})]})},T=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var c;return Object(b.a)(this,n),(c=t.call(this,e)).handleSubmit=function(e){c.state.businessID?e(c.state.businessID,c.state):e(c.state)},c.handleOnChange=function(e){var t=e.target,n=t.value,s=t.name;c.setState(Object(h.a)({},s,n))},c.state=Object(o.a)({},c.props.data),c}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(f.a,{children:Object(c.jsxs)(f.a.Row,{children:[Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Name",name:"businessName",value:this.state.businessName,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Building Number",name:"buildingNumber",value:this.state.buildingNumber,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Street",name:"streetName",value:this.state.streetName,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"City",name:"city",value:this.state.city,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"State",name:"state",value:this.state.state,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(f.a.Control,{size:"sm",type:"text",placeholder:"Zip",name:"zip",value:this.state.zip,onChange:this.handleOnChange})}),Object(c.jsx)(f.a.Group,{as:m.a,children:Object(c.jsx)(p.a,{type:"submit",onClick:function(){return e.handleSubmit(e.props.onClick)},children:this.props.type})})]})})})}}]),n}(a.a.Component);var E=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),r=Object(d.a)(i,2),j=r[0],l=r[1],o=D("businesses");Object(s.useEffect)((function(){k.a.get(D("businesses")).then((function(e){return a(e.data)}))}),[j]);var h=function(e,t){var n=o+"/update/".concat(e);k.a.put(n,t).then((function(e){return l([])}))};function b(e){return Object(c.jsxs)(v.a,{id:"dropdown-item-button",title:"Actions",children:[Object(c.jsx)(y.a.Item,{as:u,business:e.business}),Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return function(e){var t=o+"/delete/".concat(e);k.a.delete(t).then((function(e){l([])}))}(e.business.businessID)},children:"Delete"})]})}function u(e){var t=Object(s.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],r=function(){return i(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a.Item,{as:"button",onClick:function(){return i(!0)},children:"Update"}),Object(c.jsxs)(g.a,{size:"xl",show:a,onHide:r,backdrop:"static",keyboard:!0,children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsxs)(g.a.Title,{children:["Update ",e.business.businessName," ID: ",e.business.businessID]})}),Object(c.jsx)(g.a.Body,{children:Object(c.jsx)(T,{type:"Update",onClick:h,data:e.business})}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsx)(p.a,{variant:"secondary",onClick:r,children:"Close"})})]})]})}function O(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.business.businessID}),Object(c.jsx)("td",{children:e.business.businessName}),Object(c.jsx)("td",{children:e.business.buildingNumber}),Object(c.jsx)("td",{children:e.business.streetName}),Object(c.jsx)("td",{children:e.business.city}),Object(c.jsx)("td",{children:e.business.state}),Object(c.jsx)("td",{children:e.business.zip}),Object(c.jsx)("td",{children:e.business.individualOwner}),Object(c.jsx)("td",{children:e.business.familyOwner}),Object(c.jsx)("td",{children:Object(c.jsx)(b,{business:e.business})})]})}return Object(c.jsxs)(w.a,{fluid:!0,children:[Object(c.jsx)("h1",{children:"Businesses"}),Object(c.jsx)(T,{type:"Create",onClick:function(e){var t=o+"/create";k.a.post(t,e).then((function(){l([])}))}}),Object(c.jsxs)(C.a,{bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Number"}),Object(c.jsx)("th",{children:"Street Name"}),Object(c.jsx)("th",{children:"City"}),Object(c.jsx)("th",{children:"State"}),Object(c.jsx)("th",{children:"Zip"}),Object(c.jsx)("th",{children:"Owner"}),Object(c.jsx)("th",{children:"Family"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e,t){return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)(O,{business:e})},e.businessID)}))})]})]})},P=n(35),Z=n(9);n(104);function J(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Welcome to Mafia tracker!"}),"Please use the links in the navigation bar to manage your entries."]})}var W=function(){return Object(c.jsx)(P.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)(j.a,{bg:"dark",variant:"dark",children:[Object(c.jsx)(j.a.Brand,{children:"Navbar"}),Object(c.jsxs)(l.a,{className:"mr-auto",children:[Object(c.jsx)(l.a.Link,{as:P.b,to:"/",children:"Home"}),Object(c.jsx)(l.a.Link,{as:P.b,to:"/families",children:"Families"}),Object(c.jsx)(l.a.Link,{as:P.b,to:"/individuals",children:"Individuals"}),Object(c.jsx)(l.a.Link,{as:P.b,to:"/laws",children:"Laws"}),Object(c.jsx)(l.a.Link,{as:P.b,to:"/businesses",children:"Businesses"})]})]}),Object(c.jsxs)(Z.c,{children:[Object(c.jsx)(Z.a,{path:"/individuals",children:Object(c.jsx)(M,{})}),Object(c.jsx)(Z.a,{path:"/families",children:Object(c.jsx)(z,{})}),Object(c.jsx)(Z.a,{path:"/laws",children:Object(c.jsx)(U,{})}),Object(c.jsx)(Z.a,{path:"/businesses",children:Object(c.jsx)(E,{})}),Object(c.jsx)(Z.a,{path:"/",children:Object(c.jsx)(J,{})})]})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(W,{})}),document.getElementById("root")),q()},80:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.8bb83c3f.chunk.js.map